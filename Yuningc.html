<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>《戴斗笠的地藏》深度閱讀理解測驗</title>
    <style>
        body {
            font-family: "Microsoft JhengHei", "Heiti TC", sans-serif;
            background-color: #f4f7f6;
            color: #333;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: #fff;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            border-top: 10px solid #8e44ad;
        }
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 10px;
        }
        .intro {
            text-align: center;
            color: #7f8c8d;
            margin-bottom: 30px;
            font-size: 0.9em;
        }
        .question-block {
            margin-bottom: 30px;
            padding: 20px;
            background-color: #fafafa;
            border-left: 5px solid #bdc3c7;
            border-radius: 5px;
            transition: all 0.3s ease;
        }
        .question-block:hover {
            background-color: #f0f3f4;
            border-left-color: #8e44ad;
        }
        .question-title {
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 15px;
            color: #2c3e50;
        }
        .options label {
            display: block;
            margin-bottom: 10px;
            cursor: pointer;
            padding: 8px;
            border-radius: 4px;
        }
        .options label:hover {
            background-color: #e8e8e8;
        }
        input[type="checkbox"] {
            margin-right: 10px;
            transform: scale(1.2);
        }
        .submit-btn {
            display: block;
            width: 100%;
            padding: 15px;
            background-color: #8e44ad;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.2em;
            cursor: pointer;
            transition: background 0.3s;
        }
        .submit-btn:hover {
            background-color: #732d91;
        }
        .result-area {
            margin-top: 20px;
            padding: 20px;
            display: none;
        }
        .explanation {
            margin-top: 10px;
            padding: 10px;
            background-color: #e8f6f3;
            border: 1px solid #d0e9c6;
            color: #2c7a38;
            border-radius: 5px;
            display: none;
            font-size: 0.9em;
        }
        .error-msg {
            color: #c0392b;
            font-weight: bold;
        }
        .score-display {
            text-align: center;
            font-size: 1.5em;
            font-weight: bold;
            color: #8e44ad;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>《戴斗笠的地藏》深度閱讀理解測驗</h1>
    <p class="intro">請仔細閱讀題目，並選出所有正確的選項（複選題）。<br>
    測驗範圍涵蓋：故事架構、深層寓意、生字詞語及修辭分析。</p>

    <form id="quizForm">
        
        <div class="question-block" id="q1-block">
            <div class="question-title">1. 關於本文獻的「執行摘要」與「核心價值觀」，以下哪些敘述完全符合文本分析？</div>
            <div class="options">
                <label><input type="checkbox" name="q1" value="A"> A. 故事的核心思想僅限於「善有善報」的因果論，強調物質回報的重要性。</label>
                <label><input type="checkbox" name="q1" value="B"> B. 故事中最溫暖的部分被認為是老婆婆在得知生意失敗後，沒有責備反而讚揚丈夫。</label>
                <label><input type="checkbox" name="q1" value="C"> C. 文本傳達的深層寓意包含「知足」與「互相體諒」的家庭美德。</label>
                <label><input type="checkbox" name="q1" value="D"> D. 故事的主角是一對居住在海邊漁村的老夫妻，以捕魚和製作斗笠維生。</label>
                <label><input type="checkbox" name="q1" value="E"> E. 家人間的精神支持與善良品格被視為超越物質財富的重要價值。</label>
            </div>
            <div class="explanation" id="q1-expl">
                <strong>解析：</strong><br>
                A 錯誤：文本提到除了善有善報，還有更深層的家庭美德。<br>
                B 正確：文本明確指出這是「故事最溫暖的地方」。<br>
                C 正確：這是文本強調的第二個核心價值觀。<br>
                D 錯誤：老夫妻居住在「日本深山」，以「耕作」維生。<br>
                E 正確：這是深層寓意分析中的重點。
            </div>
        </div>

        <div class="question-block" id="q2-block">
            <div class="question-title">2. 根據「故事架構」中的情節概述，下列關於老爺爺下山販售斗笠的過程與轉折，哪些是正確的？</div>
            
            <div class="options">
                <label><input type="checkbox" name="q2" value="A"> A. 老爺爺下山的起因是因為接近新年，老婆婆希望能品嚐年糕。</label>
                <label><input type="checkbox" name="q2" value="B"> B. 老爺爺在村裡賣出了兩頂斗笠，剩下的五頂送給了地藏菩薩。</label>
                <label><input type="checkbox" name="q2" value="C"> C. 途經的地藏菩薩像共有六尊，但老爺爺只剩下五頂斗笠。</label>
                <label><input type="checkbox" name="q2" value="D"> D. 為了幫最後一尊地藏遮雪，老爺爺解下了自己的頭巾。</label>
                <label><input type="checkbox" name="q2" value="E"> E. 老爺爺回家時因為擔心被責備，所以先在門外猶豫了很久才進屋。</label>
            </div>
            <div class="explanation" id="q2-expl">
                <strong>解析：</strong><br>
                A 正確：這是故事的「起因」。<br>
                B 錯誤：文本指出「一頂斗笠也沒賣出去」。<br>
                C 正確：共有六尊菩薩，老爺爺有五頂斗笠（因為沒賣出去）。<br>
                D 正確：這是老爺爺無私善行的具體表現。<br>
                E 錯誤：文本僅提到他「原以為會受到責備」，並未提及他在門外猶豫的行為細節。
            </div>
        </div>

        <div class="question-block" id="q3-block">
            <div class="question-title">3. 關於故事的「結果」與「深層寓意」，下列描述哪些符合文本內容？</div>
            <div class="options">
                <label><input type="checkbox" name="q3" value="A"> A. 除夕半夜，屋外傳來了奇特的歌聲，這是回報降臨的徵兆。</label>
                <label><input type="checkbox" name="q3" value="B"> B. 隔天清晨，老夫妻發現門外堆滿了金銀財寶，從此過著富裕的生活。</label>
                <label><input type="checkbox" name="q3" value="C"> C. 老夫妻看見遠處有戴著斗笠和頭巾的六尊地藏身影，消失在雪地中。</label>
                <label><input type="checkbox" name="q3" value="D"> D. 文本強調「善有善報」的因果循環，解決了老夫妻過年的困境。</label>
                <label><input type="checkbox" name="q3" value="E"> E. 故事結局證明了老爺爺的無心善舉（無私贈予）最終轉化為實質的福報。</label>
            </div>
            <div class="explanation" id="q3-expl">
                <strong>解析：</strong><br>
                A 正確：這是「結果」階段的細節。<br>
                B 錯誤：門外堆滿的是「米、青菜、魚和年糕等豐富的物資」，並非金銀財寶。<br>
                C 正確：這是老夫妻目睹的景象。<br>
                D 正確：這是核心主旨之一。<br>
                E 正確：這是對因果循環的分析。
            </div>
        </div>

        <div class="question-block" id="q4-block">
            <div class="question-title">4. 請根據「關鍵詞彙解析」部分，選出下列字詞注音與解釋完全正確的選項：</div>
            <div class="options">
                <label><input type="checkbox" name="q4" value="A"> A. 「貧」（ㄆㄧㄣˊ）：意指生活窮困，缺乏。</label>
                <label><input type="checkbox" name="q4" value="B"> B. 「宜」（ㄧˊ）：意指合適、價格低廉。</label>
                <label><input type="checkbox" name="q4" value="C"> C. 「耐」（ㄋㄞˋ）：意指無法忍受痛苦。</label>
                <label><input type="checkbox" name="q4" value="D"> D. 「隱」（ㄧㄣˇ）：意指不明顯、遮蔽。</label>
                <label><input type="checkbox" name="q4" value="E"> E. 「傍」（ㄆㄤˊ）：意指接近某個時間點。</label>
            </div>
            <div class="explanation" id="q4-expl">
                <strong>解析：</strong><br>
                A 正確：符合文本定義。<br>
                B 正確：符合文本定義。<br>
                C 錯誤：文本定義為「經得起長時間的使用或考驗」。<br>
                D 正確：符合文本定義。<br>
                E 錯誤：文本標註注音為「ㄅㄤˋ」。
            </div>
        </div>

        <div class="question-block" id="q5-block">
            <div class="question-title">5. 關於「重要句型」與「形近字辨析」，下列說明哪些是正確的？</div>
            <div class="options">
                <label><input type="checkbox" name="q5" value="A"> A. 「不但……反而……」屬於「因果複句」，用來解釋事情的原因。</label>
                <label><input type="checkbox" name="q5" value="B"> B. 句型例句：「弟弟打破花瓶，不但沒有隱瞞，反而主動向媽媽認錯。」</label>
                <label><input type="checkbox" name="q5" value="C"> C. 「貧」與「貪」的字形相似，但「貧」指窮困，「貪」指不知足。</label>
                <label><input type="checkbox" name="q5" value="D"> D. 「繼」與「斷」的意思相反，「繼」是接連不斷，「斷」是分開。</label>
                <label><input type="checkbox" name="q5" value="E"> E. 文本中的轉折複句是用來強調老婆婆雖然生氣，但最後還是原諒了老公。</label>
            </div>
            <div class="explanation" id="q5-expl">
                <strong>解析：</strong><br>
                A 錯誤：此句型為「轉折複句」，表達結果與預期相反。<br>
                B 正確：這是文本提供的應用範例。<br>
                C 正確：這是形近字辨析的重點。<br>
                D 正確：這是形近字辨析的重點。<br>
                E 錯誤：老婆婆「不但沒有怪他」，表示她根本沒有生氣，而不是生氣後原諒。
            </div>
        </div>

        <button type="button" class="submit-btn" onclick="checkAnswers()">提交測驗並查看解析</button>
    </form>

    <div class="result-area" id="resultArea">
        <div class="score-display" id="scoreDisplay"></div>
        <p style="text-align: center;">請查看上方各題的詳細解析，了解您答對或答錯的原因。</p>
    </div>
</div>

<script>
    function checkAnswers() {
        // 正確答案設定
        const correctAnswers = {
            q1: ['B', 'C', 'E'],
            q2: ['A', 'C', 'D'],
            q3: ['A', 'C', 'D', 'E'],
            q4: ['A', 'B', 'D'],
            q5: ['B', 'C', 'D']
        };

        let score = 0;
        let totalQuestions = 5;

        // 遍歷每一題
        for (let i = 1; i <= totalQuestions; i++) {
            const questionName = 'q' + i;
            const checkboxes = document.getElementsByName(questionName);
            const explanationDiv = document.getElementById(questionName + '-expl');
            let selectedValues = [];
            let allCorrect = true;

            // 獲取使用者選中的選項
            for (let checkbox of checkboxes) {
                if (checkbox.checked) {
                    selectedValues.push(checkbox.value);
                }
            }

            // 比對答案 (必須完全一致才算對)
            const correctSet = correctAnswers[questionName];
            
            // 檢查是否選了錯誤的選項
            for (let val of selectedValues) {
                if (!correctSet.includes(val)) {
                    allCorrect = false;
                    break;
                }
            }
            // 檢查是否漏選了正確的選項
            if (selectedValues.length !== correctSet.length) {
                allCorrect = false;
            }

            // 顯示解析
            explanationDiv.style.display = 'block';
            
            // 標記題目區塊顏色
            const block = document.getElementById(questionName + '-block');
            if (allCorrect) {
                score++;
                block.style.borderLeftColor = '#2ecc71'; // 綠色表示正確
                block.style.backgroundColor = '#eafaf1';
            } else {
                block.style.borderLeftColor = '#e74c3c'; // 紅色表示錯誤
                block.style.backgroundColor = '#fdeea';
            }
        }

        // 顯示總分
        const resultArea = document.getElementById('resultArea');
        const scoreDisplay = document.getElementById('scoreDisplay');
        resultArea.style.display = 'block';
        scoreDisplay.innerText = `您的得分：${score} / ${totalQuestions}`;
        
        // 滾動到底部
        resultArea.scrollIntoView({behavior: "smooth"});
    }
</script>

</body>
</html>
