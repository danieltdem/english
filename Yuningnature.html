<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>物質變化原理與概念分析 - 進階挑戰測驗</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --accent-color: #3498db;
            --success-color: #27ae60;
            --error-color: #c0392b;
            --bg-color: #f0f4f8;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--primary-color);
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            border-top: 5px solid var(--accent-color);
        }
        h1 {
            text-align: center;
            color: var(--primary-color);
            margin-bottom: 10px;
        }
        p.intro {
            text-align: center;
            color: #7f8c8d;
            margin-bottom: 30px;
            font-size: 0.9em;
        }
        .question-block {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #e1e8ed;
            border-radius: 8px;
            background-color: #fff;
            transition: transform 0.2s;
        }
        .question-block:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        .question-title {
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 15px;
            color: var(--primary-color);
        }
        .options-list {
            list-style: none;
            padding: 0;
        }
        .option-item {
            margin-bottom: 10px;
            padding: 10px;
            border-radius: 5px;
            background-color: #f9f9f9;
            cursor: pointer;
            transition: background 0.2s;
            display: flex;
            align-items: flex-start;
        }
        .option-item:hover {
            background-color: #e8f4fd;
        }
        .option-item input[type="checkbox"] {
            margin-right: 12px;
            margin-top: 6px;
            transform: scale(1.2);
            cursor: pointer;
        }
        .option-item label {
            cursor: pointer;
            width: 100%;
        }
        .submit-btn {
            display: block;
            width: 100%;
            padding: 15px;
            background-color: var(--accent-color);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.2em;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s;
            margin-top: 20px;
        }
        .submit-btn:hover {
            background-color: #2980b9;
        }
        .feedback {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
            font-size: 0.9em;
            display: none;
        }
        .feedback.correct {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .feedback.incorrect {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .explanation {
            margin-top: 5px;
            font-size: 0.85em;
            color: #555;
            font-style: italic;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>物質變化原理：進階挑戰</h1>
    <p class="intro">本測驗所有題目均為多選題。請選出所有正確的選項。</p>

    <form id="quizForm">
        
        <div class="question-block" id="q1">
            <div class="question-title">1. 關於物質變化的核心驅動因素與自然界相互作用，下列敘述何者正確？</div>
            <ul class="options-list">
                <li class="option-item">
                    <input type="checkbox" name="q1" value="A" id="q1a">
                    <label for="q1a">物質變化通常不是孤立發生的，而是由溫度、水、空氣及酸鹼性等多重因素相互作用所引發。</label>
                </li>
                <li class="option-item">
                    <input type="checkbox" name="q1" value="B" id="q1b">
                    <label for="q1b">「水結成冰」是課程中定義「物質相互影響」的最佳範例，因為涉及了溫度的變化。</label>
                </li>
                <li class="option-item">
                    <input type="checkbox" name="q1" value="C" id="q1c">
                    <label for="q1c">風吹過水面造成波動，或是河水沖刷石頭，皆屬於兩種不同物質間的物理相互作用。</label>
                </li>
                <li class="option-item">
                    <input type="checkbox" name="q1" value="D" id="q1d">
                    <label for="q1d">鐵礦在乾燥且真空的環境中，最容易與空氣作用產生紅色的生鏽前兆。</label>
                </li>
                <li class="option-item">
                    <input type="checkbox" name="q1" value="E" id="q1e">
                    <label for="q1e">生鏽（氧化）與發酵皆屬於化學變化，會改變物質的本質。</label>
                </li>
            </ul>
            <div class="feedback" id="feedback-q1"></div>
        </div>

        <div class="question-block" id="q2">
            <div class="question-title">2. 針對特定的化學反應（生鏽、發酵、蛋白質變性），下列原理與應用的描述哪些是正確的？</div>
            <ul class="options-list">
                <li class="option-item">
                    <input type="checkbox" name="q2" value="A" id="q2a">
                    <label for="q2a">暖暖包的原理是利用鐵粉生鏽時的「吸熱」反應，並加入食鹽減緩反應速度以延長使用時間。</label>
                </li>
                <li class="option-item">
                    <input type="checkbox" name="q2" value="B" id="q2b">
                    <label for="q2b">製作鹹豆漿時加入醋，是利用酸性物質使豆漿中的蛋白質發生變性而凝固。</label>
                </li>
                <li class="option-item">
                    <input type="checkbox" name="q2" value="C" id="q2c">
                    <label for="q2c">麵團發酵時，酵母菌會產生氧氣，且發酵速度在高溫（60℃以上）環境中最快。</label>
                </li>
                <li class="option-item">
                    <input type="checkbox" name="q2" value="D" id="q2d">
                    <label for="q2d">生鏽是一種氧化現象，其關鍵條件包含高濕度、酸性環境以及較大的空氣接觸面積。</label>
                </li>
                <li class="option-item">
                    <input type="checkbox" name="q2" value="E" id="q2e">
                    <label for="q2e">蛋白質變性是指蛋白質結構因遇熱或遇酸而改變，例如雞蛋煮熟後無法變回生雞蛋。</label>
                </li>
            </ul>
            <div class="feedback" id="feedback-q2"></div>
        </div>

        <div class="question-block" id="q3">
            <div class="question-title">3. 溫度對物質的影響分為「可逆」與「不可逆」變化，下列分類與機制何者完全正確？</div>
            <ul class="options-list">
                <li class="option-item">
                    <input type="checkbox" name="q3" value="A" id="q3a">
                    <label for="q3a">乾冰昇華時會吸收大量的熱，這是一種可利用於快速降溫的物理現象。</label>
                </li>
                <li class="option-item">
                    <input type="checkbox" name="q3" value="B" id="q3b">
                    <label for="q3b">巧克力受熱融化與雞蛋受熱煮熟，兩者皆屬於可逆的物理變化，因為冷卻後皆會變成固體。</label>
                </li>
                <li class="option-item">
                    <input type="checkbox" name="q3" value="C" id="q3c">
                    <label for="q3c">氣炸鍋烹飪食物與線香燃燒成灰燼，皆屬於不可逆的化學變化。</label>
                </li>
                <li class="option-item">
                    <input type="checkbox" name="q3" value="D" id="q3d">
                    <label for="q3d">在冰塊中加入食鹽可以製造更低溫的環境，這是利用吸熱反應的原理。</label>
                </li>
                <li class="option-item">
                    <input type="checkbox" name="q3" value="E" id="q3e">
                    <label for="q3e">玉米粒受熱爆開成為爆米花，雖然形狀改變，但本質未變，屬於可逆變化。</label>
                </li>
            </ul>
            <div class="feedback" id="feedback-q3"></div>
        </div>

        <div class="question-block" id="q4">
            <div class="question-title">4. 關於酸鹼性質的辨識與天然指示劑的顏色變化，請選出正確的對應關係：</div>
            <ul class="options-list">
                <li class="option-item">
                    <input type="checkbox" name="q4" value="A" id="q4a">
                    <label for="q4a">鹼性物質通常摸起來有滑膩感，且紅色石蕊試紙遇到鹼性溶液會變成紅色。</label>
                </li>
                <li class="option-item">
                    <input type="checkbox" name="q4" value="B" id="q4b">
                    <label for="q4b">紫色高麗菜汁是一種天然指示劑，遇到酸性溶液會變為紅色系，遇到鹼性溶液則變為藍綠色系。</label>
                </li>
                <li class="option-item">
                    <input type="checkbox" name="q4" value="C" id="q4c">
                    <label for="q4c">紫葡萄皮汁液遇到酸性溶液會呈現紫紅色，但遇到鹼性溶液則會轉變為黃綠色。</label>
                </li>
                <li class="option-item">
                    <input type="checkbox" name="q4" value="D" id="q4d">
                    <label for="q4d">蝶豆花茶在水中呈現藍紫色，遇到酸性物質會變成綠色，遇到鹼性物質會變成紅色。</label>
                </li>
                <li class="option-item">
                    <input type="checkbox" name="q4" value="E" id="q4e">
                    <label for="q4e">花青素（Anthocyanin）是許多植物中富含的水溶性色素，其顏色會隨pH值改變，適合做為天然酸鹼指示劑。</label>
                </li>
            </ul>
            <div class="feedback" id="feedback-q4"></div>
        </div>

        <div class="question-block" id="q5">
            <div class="question-title">5. 根據本單元的學習評量分析，下列哪些觀念是正確的或者是對易混淆點的正確釐清？</div>
            <ul class="options-list">
                <li class="option-item">
                    <input type="checkbox" name="q5" value="A" id="q5a">
                    <label for="q5a">在判斷「物質相互影響」時，應區分「單一物質的狀態改變」（如水變冰）與「不同物質間的互動」（如風吹水面）。</label>
                </li>
                <li class="option-item">
                    <input type="checkbox" name="q5" value="B" id="q5b">
                    <label for="q5b">「哥哥晚餐吃了一碗泡麵」是本單元中關於「物質相互影響」的最佳科學範例。</label>
                </li>
                <li class="option-item">
                    <input type="checkbox" name="q5" value="C" id="q5c">
                    <label for="q5c">pH值小於7代表酸性溶液，pH值大於7代表鹼性溶液，pH值等於7則為中性（如白開水）。</label>
                </li>
                <li class="option-item">
                    <input type="checkbox" name="q5" value="D" id="q5d">
                    <label for="q5d">精準記憶指示劑顏色至關重要，例如不應將紫葡萄汁遇鹼的反應誤記為紫紅色（正確應為黃綠色）。</label>
                </li>
                <li class="option-item">
                    <input type="checkbox" name="q5" value="E" id="q5e">
                    <label for="q5e">所有的溫度變化所導致的物質改變都是可逆的，只要將溫度調回原狀即可。</label>
                </li>
            </ul>
            <div class="feedback" id="feedback-q5"></div>
        </div>

        <button type="button" class="submit-btn" onclick="checkAnswers()">提交答案並查看解析</button>
    </form>
</div>

<script>
    function checkAnswers() {
        // Correct answers definitions
        const answers = {
            q1: ['A', 'C', 'E'],
            q2: ['B', 'D', 'E'],
            q3: ['A', 'C', 'D'],
            q4: ['B', 'C', 'E'],
            q5: ['A', 'C', 'D']
        };

        // Explanations for wrong answers
        const explanations = {
            q1: "解析：B選項錯誤，「水結成冰」是單一物質的狀態改變，非相互影響；D選項錯誤，生鏽需要潮濕環境（水+空氣），乾燥真空無法生鏽。",
            q2: "解析：A選項錯誤，鐵生鏽是「放熱」反應，且食鹽是催化劑用來「加速」反應；C選項錯誤，發酵產生的是二氧化碳，且最適溫度為25-30℃。",
            q3: "解析：B選項錯誤，雞蛋煮熟是蛋白質變性，為不可逆化學變化；E選項錯誤，爆米花性質已變，不可逆。",
            q4: "解析：A選項錯誤，紅色石蕊試紙遇鹼應變「藍」色；D選項錯誤，蝶豆花遇酸變紅紫色，遇鹼變黃/綠色（選項描述顛倒）。",
            q5: "解析：B選項錯誤，吃泡麵涉及複雜消化，非本單元強調的自然界物理互動（如風吹水）；E選項錯誤，許多因熱產生的化學變化（如煮熟食物）是不可逆的。"
        };

        let score = 0;
        let totalQuestions = Object.keys(answers).length;

        for (let qId in answers) {
            const correctOptions = answers[qId];
            const userOptions = Array.from(document.querySelectorAll(`input[name="${qId}"]:checked`)).map(el => el.value);
            const feedbackDiv = document.getElementById(`feedback-${qId}`);
            
            // Check if user selection matches exactly with correct options (ignoring order)
            const isCorrect = correctOptions.length === userOptions.length && correctOptions.every(val => userOptions.includes(val));

            if (isCorrect) {
                feedbackDiv.innerHTML = "<strong>✅ 回答正確！</strong>";
                feedbackDiv.className = "feedback correct";
                feedbackDiv.style.display = "block";
                score++;
            } else {
                feedbackDiv.innerHTML = "<strong>❌ 回答錯誤或不完整。</strong><br>" + 
                                      `<div class='explanation'>${explanations[qId]}</div>` +
                                      `<div class='explanation'>正確選項應為：${correctOptions.join(', ')}</div>`;
                feedbackDiv.className = "feedback incorrect";
                feedbackDiv.style.display = "block";
            }
        }
        
        alert(`測驗完成！你答對了 ${score} / ${totalQuestions} 題。請查看下方各題的詳細解析。`);
    }
</script>

</body>
</html>
