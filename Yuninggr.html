<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Present Perfect vs Past Simple äº’å‹•æ¸¬é©—</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f0f4f8;
            color: #333;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        .intro {
            background-color: #e8f4fd;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 5px solid #3498db;
        }
        .question-card {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            transition: transform 0.2s;
        }
        .question-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.05);
        }
        .question-text {
            font-size: 1.1em;
            margin-bottom: 15px;
        }
        input[type="text"] {
            border: 2px solid #ccc;
            border-radius: 4px;
            padding: 5px 10px;
            font-size: 1em;
            width: 150px;
            transition: border-color 0.3s;
            background-color: #fafafa;
        }
        input[type="text"]:focus {
            border-color: #3498db;
            outline: none;
            background-color: #fff;
        }
        .btn {
            display: block;
            width: 100%;
            padding: 15px;
            background-color: #27ae60;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.2em;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-top: 20px;
        }
        .btn:hover {
            background-color: #219150;
        }
        .feedback {
            margin-top: 10px;
            font-weight: bold;
            display: none;
        }
        .correct-answer {
            color: #27ae60;
        }
        .wrong-answer {
            color: #e74c3c;
        }
        .explanation {
            font-size: 0.9em;
            color: #666;
            margin-top: 5px;
            font-style: italic;
        }
        .score-display {
            text-align: center;
            font-size: 1.5em;
            margin-top: 20px;
            color: #2c3e50;
            font-weight: bold;
        }
        /* Style for correct/incorrect inputs after checking */
        input.correct {
            border-color: #27ae60;
            background-color: #e8f8f5;
        }
        input.incorrect {
            border-color: #e74c3c;
            background-color: #fdedec;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>ğŸ“ Present Perfect vs Past Simple æ¸¬é©—</h1>
    
    <div class="intro">
        <p><strong>å¯§å¯§è€å¸«çš„å°æé†’ï¼š</strong><br>
        è«‹æ ¹æ“šæ‹¬è™Ÿå…§çš„å‹•è©ï¼Œå¡«å…¥æ­£ç¢ºçš„ <strong>Past Simple (éå»ç°¡å–®å¼)</strong> æˆ– <strong>Present Perfect (ç¾åœ¨å®Œæˆå¼)</strong>ã€‚<br>
        å¦‚æœæ˜¯å¦å®šå¥ï¼Œè«‹ä½¿ç”¨ç¸®å¯«å½¢å¼ (ä¾‹å¦‚ï¼šdidn't, haven't)ã€‚</p>
    </div>

    <form id="quizForm">
        <div class="question-card">
            <div class="question-text">
                1. I <input type="text" data-answer="bought"> (buy) a new pair of jeans last week, but I still <input type="text" data-answer="haven't worn"> (not wear) them.
            </div>
            <div class="feedback" id="feedback-1"></div>
        </div>

        <div class="question-card">
            <div class="question-text">
                2. A: <input type="text" data-answer="Have you seen"> (you / see) the new Spider-Man movie yet?<br>
                B: Yes, I <input type="text" data-answer="saw"> (see) it yesterday.
            </div>
            <div class="feedback" id="feedback-2"></div>
        </div>

        <div class="question-card">
            <div class="question-text">
                3. We <input type="text" data-answer="have lived"> (live) in Hsinchu for ten years. We love it here! (We still live here)
            </div>
            <div class="feedback" id="feedback-3"></div>
        </div>

        <div class="question-card">
            <div class="question-text">
                4. My brother <input type="text" data-answer="lost"> (lose) his keys yesterday, but he <input type="text" data-answer="has found"> (find) them this morning.
            </div>
            <div class="feedback" id="feedback-4"></div>
        </div>

        <div class="question-card">
            <div class="question-text">
                5. A: Would you like some coffee?<br>
                B: No, thanks. I <input type="text" data-answer="have just had"> (just / have) one.
            </div>
            <div class="feedback" id="feedback-5"></div>
        </div>

        <div class="question-card">
            <div class="question-text">
                6. Shakespeare <input type="text" data-answer="wrote"> (write) many famous plays and poems.
            </div>
            <div class="feedback" id="feedback-6"></div>
        </div>

        <div class="question-card">
            <div class="question-text">
                7. I <input type="text" data-answer="didn't finish"> (not finish) my homework last night because I was too tired.
            </div>
            <div class="feedback" id="feedback-7"></div>
        </div>
        
        <div class="question-card">
            <div class="question-text">
                8. Look! Someone <input type="text" data-answer="has broken"> (break) that window.
            </div>
            <div class="feedback" id="feedback-8"></div>
        </div>

        <button type="button" class="btn" onclick="checkAnswers()">äº¤å·æª¢æŸ¥ (Check Answers)</button>
    </form>

    <div class="score-display" id="scoreDisplay"></div>

</div>

<script>
    function checkAnswers() {
        let score = 0;
        let totalBlanks = 0;
        
        // Loop through all question cards to process inputs inside them
        const cards = document.querySelectorAll('.question-card');
        
        cards.forEach((card, index) => {
            const inputs = card.querySelectorAll('input');
            const feedbackDiv = card.querySelector('.feedback');
            let allCorrectInCard = true;
            let explanationHTML = "";
            
            inputs.forEach(input => {
                totalBlanks++;
                const userAnswer = input.value.trim();
                // Normalize answer: remove extra spaces, allow single quotes variations if needed, but simple trim is mostly enough. 
                // Case insensitive check.
                const correctAnswer = input.getAttribute('data-answer');
                
                if (userAnswer.toLowerCase() === correctAnswer.toLowerCase()) {
                    score++;
                    input.classList.add('correct');
                    input.classList.remove('incorrect');
                } else {
                    allCorrectInCard = false;
                    input.classList.add('incorrect');
                    input.classList.remove('correct');
                    // Add the correct answer to explanation
                    explanationHTML += `<span class="wrong-answer">ä½ çš„ç­”æ¡ˆ: ${userAnswer || "(ç©ºç™½)"}</span> â†’ <span class="correct-answer">æ­£ç¢º: ${correctAnswer}</span><br>`;
                }
            });

            // Display Feedback for specific card
            feedbackDiv.style.display = 'block';
            if (allCorrectInCard) {
                feedbackDiv.innerHTML = '<span class="correct-answer">âœ… Correct! å¥½æ£’ï¼</span>';
                // Specific grammar hints based on question index (hardcoded for this example content)
                let hint = "";
                if(index === 0) hint = "Last week æ˜¯ç‰¹å®šéå»æ™‚é–“ (Past Simple)ï¼›still...not wear è¡¨ç¤ºæŒçºŒåˆ°ç¾åœ¨çš„ç‹€æ…‹ (Present Perfect)ã€‚";
                if(index === 1) hint = "Yet ç”¨æ–¼ç¾åœ¨å®Œæˆå¼å•å¥ï¼›Yesterday æ˜¯ç‰¹å®šéå»æ™‚é–“ã€‚";
                if(index === 2) hint = "For ten years ä¸”ç¾åœ¨é‚„ä½è‘—ï¼Œç”¨ Present Perfectã€‚";
                if(index === 3) hint = "Yesterday æ˜¯éå»æ™‚é–“ï¼›This morning åœ¨é€™è£¡å¦‚æœæ˜¯å‰›ç™¼ç”Ÿçš„æ–°æ¶ˆæ¯æˆ–å¼·èª¿çµæœï¼Œå¯ç”¨ Present Perfectï¼Œä¸éé€™è£¡ has found å¼·èª¿çµæœ 'ç¾åœ¨æ‰¾åˆ°äº†'ã€‚";
                if(index === 5) hint = "èå£«æ¯”äºå·²ç¶“éä¸–äº†ï¼Œä»–çš„ä¸€ç”Ÿæ˜¯éå»çš„æ™‚é–“æ®µï¼Œæ‰€ä»¥ç”¨ Past Simpleã€‚";
                
                if(hint) feedbackDiv.innerHTML += `<div class="explanation">${hint}</div>`;
            } else {
                feedbackDiv.innerHTML = `âŒ Oops! å†è©¦è©¦çœ‹ï¼š<br>${explanationHTML}`;
            }
        });

        // Show Final Score
        const scoreDisplay = document.getElementById('scoreDisplay');
        const percentage = Math.round((score / totalBlanks) * 100);
        
        let message = "";
        if (percentage === 100) message = "å¤ªå²å®³äº†ï¼å…¨å°ï¼ğŸ‰";
        else if (percentage >= 80) message = "åšå¾—å¾ˆæ£’ï¼å¿«è¦æ»¿åˆ†äº†ï¼ğŸ‘";
        else if (percentage >= 60) message = "ä¸éŒ¯å–”ï¼Œå†è¤‡ç¿’ä¸€ä¸‹éŒ¯çš„åœ°æ–¹ï¼ğŸ’ª";
        else message = "æ²’é—œä¿‚ï¼Œå¤šç·´ç¿’å¹¾æ¬¡å°±æœƒäº†ï¼ğŸ˜Š";

        scoreDisplay.innerHTML = `ä½ çš„å¾—åˆ†: ${score} / ${totalBlanks} (${percentage}%)<br>${message}`;
        
        // Scroll to bottom
        scoreDisplay.scrollIntoView({behavior: 'smooth'});
    }
</script>

</body>
</html>
