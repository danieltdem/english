<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è‹±æ–‡æ–‡æ³•æ¸¬é©—ï¼šéå»ç°¡å–®å¼èˆ‡éå»é€²è¡Œå¼</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            box-sizing: border-box;
        }
        .container {
            text-align: center;
            background: white;
            padding: 30px 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            width: 100%;
            max-width: 600px;
            transition: all 0.3s ease;
        }
        h1 {
            color: #333;
            margin-top: 10px;
            margin-bottom: 10px;
            font-size: 28px;
        }
        p {
            color: #666;
            margin-bottom: 20px;
            font-size: 16px;
        }
        #game-image {
            transition: all 0.5s ease;
        }
        #game-image.correct {
            transform: scale(1.1);
            box-shadow: 0 8px 25px rgba(46, 204, 113, 0.4);
        }
        #game-image.incorrect {
            animation: shake 0.5s;
            box-shadow: 0 8px 25px rgba(231, 76, 60, 0.4);
        }
        #game-image.all-correct {
            animation: celebration 1s ease-in-out;
            box-shadow: 0 8px 25px rgba(253, 203, 110, 0.4);
        }
        #game-status {
            width: 120px;
            height: 120px;
            margin: 0 auto 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: all 0.5s ease;
        }
        #game-status.correct {
            background: linear-gradient(135deg, #00b894, #00a085);
            transform: scale(1.1);
        }
        #game-status.incorrect {
            background: linear-gradient(135deg, #fd79a8, #e84393);
            animation: shake 0.5s;
        }
        #game-status.all-correct {
            background: linear-gradient(135deg, #fdcb6e, #e17055);
            animation: celebration 1s ease-in-out;
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        @keyframes celebration {
            0%, 100% { transform: scale(1) rotate(0deg); }
            50% { transform: scale(1.2) rotate(5deg); }
        }
        #progress {
            font-size: 16px;
            color: #555;
            margin-bottom: 15px;
            font-weight: bold;
            padding: 8px 16px;
            background: #f8f9fa;
            border-radius: 20px;
            display: inline-block;
        }
        #question {
            font-size: 22px;
            margin: 20px 0;
            color: #2c3e50;
            line-height: 1.5;
            background: #f1f3f4;
            padding: 20px;
            border-radius: 10px;
            border-left: 5px solid #74b9ff;
        }
        #options-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin: 20px 0;
        }
        .option-btn {
            padding: 15px 20px;
            font-size: 18px;
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            text-align: center;
            transform: translateY(0);
        }
        .option-btn:hover:not(:disabled) {
            background: linear-gradient(135deg, #0984e3, #74b9ff);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .option-btn.correct {
            background: linear-gradient(135deg, #00b894, #00a085) !important;
            transform: scale(1.05);
        }
        .option-btn.incorrect {
            background: linear-gradient(135deg, #fd79a8, #e84393) !important;
            animation: shake 0.5s;
        }
        .option-btn:disabled {
            cursor: not-allowed;
            opacity: 0.8;
        }
        #result {
            font-size: 24px;
            margin-top: 20px;
            font-weight: bold;
            padding: 10px;
            border-radius: 8px;
        }
        #explanation-container {
            font-size: 16px;
            margin-top: 15px;
            padding: 20px;
            background: linear-gradient(135deg, #fffbe6, #fff3cd);
            border-left: 5px solid #f39c12;
            border-radius: 10px;
            text-align: left;
            line-height: 1.6;
            color: #5f4c0a;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        #score {
            font-size: 24px;
            margin-top: 10px;
            color: #333;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
            font-weight: bold;
        }
        #wrong-questions {
            font-size: 16px;
            margin-top: 20px;
            text-align: left;
            white-space: pre-wrap;
            background: #f9f9f9;
            padding: 20px;
            border-radius: 10px;
            border-left: 5px solid #e74c3c;
            max-height: 250px;
            overflow-y: auto;
            line-height: 1.5;
        }
        #next-btn, #restart-btn, #retest-wrong-btn {
            padding: 15px 30px;
            font-size: 18px;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            margin: 10px 5px;
            transition: all 0.3s ease;
            font-weight: bold;
        }
        #next-btn { 
            background: linear-gradient(135deg, #fdcb6e, #e17055);
        }
        #next-btn:hover { 
            background: linear-gradient(135deg, #e17055, #fdcb6e);
            transform: translateY(-2px);
        }
        #restart-btn { 
            background: linear-gradient(135deg, #00cec9, #00b894);
        }
        #restart-btn:hover { 
            background: linear-gradient(135deg, #00b894, #00cec9);
            transform: translateY(-2px);
        }
        #retest-wrong-btn { 
            background: linear-gradient(135deg, #a29bfe, #6c5ce7);
        }
        #retest-wrong-btn:hover { 
            background: linear-gradient(135deg, #6c5ce7, #a29bfe);
            transform: translateY(-2px);
        }
    </style>
</head>
<body>
    <div class="container">
        <img id="game-image" src="initial.png" alt="Game Scene" style="width: 150px; height: 150px; object-fit: contain; margin-bottom: 20px; border-radius: 50%; box-shadow: 0 4px 15px rgba(0,0,0,0.2); transition: all 0.5s ease;">
        <div id="game-status" style="display: none;">ğŸ¯</div>
        <h1>æ–‡æ³•æ¸¬é©—ï¼šéå»ç°¡å–®å¼èˆ‡éå»é€²è¡Œå¼</h1>
        <p>è«‹æ ¹æ“šå¥å­æƒ…å¢ƒï¼Œé¸æ“‡æœ€é©åˆçš„ç­”æ¡ˆã€‚</p>
        
        <div id="quiz-area">
            <div id="progress"></div>
            <div id="question"></div>
            <div id="options-container"></div>
            <div id="result"></div>
            <div id="explanation-container" style="display: none;"></div>
            <button id="next-btn" style="display: none;">ä¸‹ä¸€é¡Œ â¡ï¸</button>
        </div>

        <div id="end-screen" style="display: none;">
            <h2>ğŸŠ æ¸¬é©—çµæŸï¼ ğŸŠ</h2>
            <div id="score"></div>
            <div id="wrong-questions"></div>
            <button id="restart-btn">ğŸ”„ å…¨éƒ¨é‡æ¸¬</button>
            <button id="retest-wrong-btn" style="display: none;">âŒ é‡æ¸¬éŒ¯é¡Œ</button>
        </div>
    </div>

    <script>
        // --- æ–°çš„éå»å¼é¡Œåº« (å…±20é¡Œ) ---
        const allQuestions = [
            { question: "While I ___ my homework, the phone ___.", options: ["was doing / rang", "did / was ringing", "was doing / was ringing", "did / rang"], answer: 0, explanation: "ä¸€å€‹æŒçºŒçš„å‹•ä½œï¼ˆåšåŠŸèª²ï¼‰è¢«ä¸€å€‹çŸ­æš«çš„å‹•ä½œï¼ˆé›»è©±éŸ¿ï¼‰æ‰“æ–·ã€‚é•·å‹•ä½œç”¨éå»é€²è¡Œå¼ï¼ŒçŸ­å‹•ä½œç”¨éå»ç°¡å–®å¼ã€‚" },
            { question: "What ___ you ___ at 8 p.m. last night?", options: ["did ... do", "were ... doing", "was ... doing", "do ... do"], answer: 1, explanation: "è©¢å•åœ¨éå»æŸå€‹ç‰¹å®šæ™‚é–“é»ã€Œæ­£åœ¨ã€åšä»€éº¼ï¼Œè¦ç”¨éå»é€²è¡Œå¼ (were doing)ã€‚" },
            { question: "He fell and hurt himself when he ___ down the stairs.", options: ["ran", "was running", "runs", "is running"], answer: 1, explanation: "ã€Œè·‘ä¸‹æ¨“ã€æ˜¯èƒŒæ™¯ä¸­æŒçºŒçš„å‹•ä½œï¼Œåœ¨é€™å€‹å‹•ä½œæœŸé–“ç™¼ç”Ÿäº†ã€Œè·Œå€’ã€é€™ä»¶äº‹ã€‚èƒŒæ™¯å‹•ä½œç”¨éå»é€²è¡Œå¼ã€‚" },
            { question: "I ___ to the cinema yesterday.", options: ["went", "was going", "go", "gone"], answer: 0, explanation: "æ™‚é–“å‰¯è© 'yesterday' æŒ‡éå»ä¸€å€‹å·²å®Œæˆçš„å‹•ä½œï¼Œè¦ç”¨éå»ç°¡å–®å¼ã€‚go çš„éå»å¼æ˜¯ wentã€‚" }, // <-- é€™ä¸€é¡Œå·²ä¿®æ­£ï¼
            { question: "She ___ like the movie, so she left early.", options: ["wasn't", "not", "didn't", "don't"], answer: 2, explanation: "éå»ç°¡å–®å¼çš„å¦å®šå¥è¦ç”¨åŠ©å‹•è© didn't + åŸå½¢å‹•è©ã€‚" },
            { question: "They ___ paying attention when the teacher explained the rule.", options: ["weren't", "didn't", "wasn't", "not"], answer: 0, explanation: "éå»é€²è¡Œå¼çš„å¦å®šå¥æ˜¯åœ¨ was/were å¾Œé¢åŠ  notã€‚" },
            { question: "___ you ___ the party last weekend?", options: ["Were ... enjoying", "Did ... enjoy", "Was ... enjoy", "Do ... enjoy"], answer: 1, explanation: "éå»ç°¡å–®å¼çš„å•å¥è¦ç”¨åŠ©å‹•è© Did + ä¸»è© + åŸå½¢å‹•è©ã€‚" },
            { question: "My family ___ to Japan for vacation last year.", options: ["go", "went", "was going", "gone"], answer: 1, explanation: "æ™‚é–“å‰¯è© 'last year' æŒ‡éå»ä¸€å€‹å·²å®Œæˆçš„å‹•ä½œï¼Œè¦ç”¨éå»ç°¡å–®å¼ã€‚go çš„éå»å¼æ˜¯ wentã€‚" },
            { question: "When the lights ___ out, I ___ a book.", options: ["went / was reading", "were going / read", "went / read", "was going / was reading"], answer: 0, explanation: "çŸ­å‹•ä½œã€Œç†„ç‡ˆã€(went out) æ‰“æ–·äº†é•·å‹•ä½œã€Œè®€æ›¸ã€(was reading)ã€‚" },
            { question: "At this time yesterday, we ___ on the beach.", options: ["sat", "were sitting", "sit", "sits"], answer: 1, explanation: "æŒ‡æ˜éå»çš„ç‰¹å®šæ™‚é–“é» 'at this time yesterday' æ­£åœ¨é€²è¡Œçš„å‹•ä½œï¼Œç”¨éå»é€²è¡Œå¼ã€‚" },
            { question: "The postman arrived while I ___ breakfast.", options: ["had", "have", "was having", "am having"], answer: 2, explanation: "ã€Œåƒæ—©é¤ã€(was having) æ˜¯èƒŒæ™¯ä¸­æŒçºŒçš„å‹•ä½œï¼Œéƒµå·®åœ¨é€™æœŸé–“æŠµé”ã€‚" },
            { question: "The Titanic ___ in 1912.", options: ["sank", "was sinking", "sink", "sinks"], answer: 0, explanation: "æè¿°ä¸€å€‹åœ¨éå»ç‰¹å®šæ™‚é–“é»ç™¼ç”Ÿä¸¦å®Œæˆçš„æ­·å²äº‹ä»¶ï¼Œç”¨éå»ç°¡å–®å¼ã€‚" },
            { question: "The sun ___ and the birds ___ when I woke up.", options: ["shone / sang", "was shining / were singing", "shone / were singing", "was shining / sang"], answer: 1, explanation: "ç•¶æˆ‘é†’ä¾†æ™‚ï¼Œå¤ªé™½ã€Œæ­£ç…§è€€è‘—ã€ã€é³¥å…’ã€Œæ­£æ­Œå”±è‘—ã€ã€‚é€™äº›æ˜¯æè¿°èƒŒæ™¯æƒ…æ³çš„æŒçºŒå‹•ä½œï¼Œç”¨éå»é€²è¡Œå¼ã€‚" },
            { question: "Where ___ you buy that beautiful dress?", options: ["did", "were", "was", "do"], answer: 0, explanation: "éå»ç°¡å–®å¼çš„ Wh- å•å¥çµæ§‹æ˜¯ Wh- + did + ä¸»è© + åŸå½¢å‹•è©ã€‚" },
            { question: "I ___ the window and saw that it ___.", options: ["opened / was raining", "was opening / rained", "opened / rained", "was opening / was raining"], answer: 0, explanation: "æˆ‘åšäº†ä¸€å€‹çŸ­å‹•ä½œã€Œæ‰“é–‹çª—æˆ¶ã€(opened)ï¼Œç„¶å¾Œçœ‹åˆ°ä¸€å€‹æ­£åœ¨æŒçºŒçš„ç‹€æ³ã€Œæ­£åœ¨ä¸‹é›¨ã€(was raining)ã€‚" },
            { question: "He ___ for the bus when I saw him; he was walking home.", options: ["wasn't waiting", "didn't wait", "not waited", "weren't waiting"], answer: 0, explanation: "æè¿°æˆ‘çœ‹åˆ°ä»–æ™‚ï¼Œä»–ã€Œæ²’æœ‰æ­£åœ¨ã€ç­‰çš„ç‹€æ³ã€‚ç”¨éå»é€²è¡Œå¼çš„å¦å®šã€‚" },
            { question: "They ___ here three years ago.", options: ["moved", "were moving", "move", "moves"], answer: 0, explanation: "æ™‚é–“å‰¯è© '... ago' æ˜¯éå»ç°¡å–®å¼çš„å…¸å‹æ¨™èªŒï¼Œè¡¨ç¤ºå¾ˆä¹…ä»¥å‰å®Œæˆçš„å‹•ä½œã€‚" },
            { question: "As she ___ the street, a car suddenly ___.", options: ["was crossing / appeared", "crossed / was appearing", "was crossing / was appearing", "crossed / appeared"], answer: 0, explanation: "ç•¶å¥¹ã€Œæ­£éé¦¬è·¯æ™‚ã€(was crossing)ï¼Œä¸€è¼›è»Šã€Œçªç„¶å‡ºç¾ã€(appeared)ã€‚é•·å‹•ä½œè¢«çŸ­å‹•ä½œæ‰“æ–·ã€‚" },
            { question: "Sorry, I ___ what you said. Could you repeat it?", options: ["wasn't hearing", "didn't hear", "not heard", "don't hear"], answer: 1, explanation: "Hear (è½åˆ°) é€šå¸¸æ˜¯ç¬é–“å‹•ä½œï¼Œåœ¨æ­¤è¡¨ç¤ºã€Œæˆ‘å‰›æ²’è½åˆ°ã€ï¼Œç”¨éå»ç°¡å–®å¼çš„å¦å®šã€‚" },
            { question: "___ they ___ tennis when it started to rain?", options: ["Did ... play", "Do ... play", "Were ... playing", "Was ... playing"], answer: 2, explanation: "è©¢å•ä¸‹é›¨é€™å€‹å‹•ä½œç™¼ç”Ÿæ™‚ï¼Œä»–å€‘æ˜¯å¦ã€Œæ­£åœ¨ã€æ‰“ç¶²çƒã€‚ç”¨éå»é€²è¡Œå¼çš„å•å¥ã€‚" }
        ];

        // å®£å‘ŠéŠæˆ²æœƒç”¨åˆ°çš„è®Šæ•¸
        let currentQuestionIndex = 0;
        let score = 0;
        let questions = [];
        let wrongQuestions = [];

        // å–å¾— HTML é é¢ä¸Šçš„å„å€‹å…ƒç´ 
        const quizArea = document.getElementById('quiz-area');
        const endScreen = document.getElementById('end-screen');
        const questionEl = document.getElementById('question');
        const optionsContainer = document.getElementById('options-container');
        const resultEl = document.getElementById('result');
        const explanationEl = document.getElementById('explanation-container');
        const progressEl = document.getElementById('progress');
        const nextBtn = document.getElementById('next-btn');
        const restartBtn = document.getElementById('restart-btn');
        const retestWrongBtn = document.getElementById('retest-wrong-btn');
        const gameImage = document.getElementById('game-image');
        const gameStatus = document.getElementById('game-status');
        const titleEl = document.querySelector('.container h1');

        // æ‰“äº‚é¡Œç›®é †åºçš„å‡½å¼
        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        // é–‹å§‹éŠæˆ²çš„å‡½å¼
        function startGame(questionList) {
            questions = [...questionList];
            shuffle(questions);
            currentQuestionIndex = 0;
            score = 0;
            wrongQuestions = [];
            
            // æ›´æ–°æ¨™é¡Œ
            titleEl.textContent = 'æ–‡æ³•æ¸¬é©—ï¼šéå»ç°¡å–®å¼èˆ‡éå»é€²è¡Œå¼';
            
            quizArea.style.display = 'block';
            endScreen.style.display = 'none';
            gameImage.src = 'initial.png';
            gameImage.className = '';
            gameStatus.textContent = 'ğŸ¯';
            gameStatus.className = '';
            
            showQuestion();
        }

        // é¡¯ç¤ºä¸€é“é¡Œç›®çš„å‡½å¼
        function showQuestion() {
            resetState();
            const currentQuestion = questions[currentQuestionIndex];
            progressEl.textContent = `ç¬¬ ${currentQuestionIndex + 1} / ${questions.length} é¡Œ`;
            questionEl.textContent = currentQuestion.question;

            currentQuestion.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.textContent = option;
                button.classList.add('option-btn');
                button.dataset.index = index;
                button.addEventListener('click', selectAnswer);
                optionsContainer.appendChild(button);
            });
        }

        // é‡ç½®ç•«é¢ç‹€æ…‹çš„å‡½å¼ (æ›åˆ°ä¸‹ä¸€é¡Œå‰)
        function resetState() {
            resultEl.textContent = '';
            explanationEl.style.display = 'none';
            nextBtn.style.display = 'none';
            while (optionsContainer.firstChild) {
                optionsContainer.removeChild(optionsContainer.firstChild);
            }
            gameImage.src = 'initial.png';
            gameImage.className = '';
            gameStatus.textContent = 'ğŸ¯';
            gameStatus.className = '';
        }

        // é¸æ“‡ç­”æ¡ˆæ™‚è§¸ç™¼çš„å‡½å¼
        function selectAnswer(e) {
            const selectedBtn = e.target;
            const selectedIndex = parseInt(selectedBtn.dataset.index);
            const currentQuestion = questions[currentQuestionIndex];
            const correctIndex = currentQuestion.answer;

            Array.from(optionsContainer.children).forEach(button => {
                button.disabled = true;
            });

            if (selectedIndex === correctIndex) {
                score++;
                selectedBtn.classList.add('correct');
                resultEl.textContent = 'âœ… æ­£ç¢ºï¼å¤ªæ£’äº†ï¼';
                resultEl.style.color = '#2ecc71';
                gameImage.src = 'correct.png';
                gameImage.classList.add('correct');
                gameStatus.textContent = 'ğŸ‰';
                gameStatus.classList.add('correct');
                
                setTimeout(() => {
                    currentQuestionIndex++;
                    if (currentQuestionIndex < questions.length) {
                        showQuestion();
                    } else {
                        endGame();
                    }
                }, 1500);
            } else {
                selectedBtn.classList.add('incorrect');
                optionsContainer.children[correctIndex].classList.add('correct');
                resultEl.textContent = 'âŒ ç­”éŒ¯äº†ï¼Œå†æ¥å†å²ï¼';
                resultEl.style.color = '#e74c3c';
                gameImage.src = 'incorrect.png';
                gameImage.classList.add('incorrect');
                gameStatus.textContent = 'ğŸ˜…';
                gameStatus.classList.add('incorrect');
                
                explanationEl.textContent = `ğŸ’¡ æ–‡æ³•è§£æï¼š${currentQuestion.explanation}`;
                explanationEl.style.display = 'block';

                wrongQuestions.push({
                    ...currentQuestion,
                    userAnswer: currentQuestion.options[selectedIndex]
                });
                nextBtn.style.display = 'block';
            }
        }

        // éŠæˆ²çµæŸæ™‚å‘¼å«çš„å‡½å¼
        function endGame() {
            quizArea.style.display = 'none';
            endScreen.style.display = 'block';
            
            const scoreEl = document.getElementById('score');
            scoreEl.textContent = `ğŸ¯ ä½ çš„æœ€çµ‚åˆ†æ•¸ï¼š${score} / ${questions.length} (${Math.round(score/questions.length*100)}%)`;

            const wrongQuestionsEl = document.getElementById('wrong-questions');
            if (score === questions.length) {
                gameImage.src = 'all_correct.png';
                gameImage.classList.add('all-correct');
                gameStatus.textContent = 'ğŸ†';
                gameStatus.classList.add('all-correct');
                wrongQuestionsEl.textContent = 'ğŸŠ å¤ªæ£’äº†ï¼ä½ å…¨éƒ¨ç­”å°äº†ï¼ä½ å·²ç¶“å®Œå…¨æŒæ¡éå»ç°¡å–®å¼èˆ‡é€²è¡Œå¼çš„ç”¨æ³•ï¼ ğŸŠ';
                wrongQuestionsEl.style.borderLeftColor = '#2ecc71';
                wrongQuestionsEl.style.background = '#d4edda';
                wrongQuestionsEl.style.color = '#155724';
                wrongQuestionsEl.style.display = 'block';
                retestWrongBtn.style.display = 'none';
            } else {
                gameImage.src = 'not_all_correct.png';
                gameStatus.textContent = 'ğŸ“';
                let wrongText = 'ğŸ“‹ ä½ ç­”éŒ¯çš„é¡Œç›®å›é¡§ï¼š\n\n';
                wrongQuestions.forEach((q, index) => {
                    wrongText += `${index + 1}. ${q.question}\n`;
                    wrongText += `    ä½ çš„ç­”æ¡ˆ: "${q.userAnswer}" âŒ\n`;
                    wrongText += `    æ­£ç¢ºç­”æ¡ˆ: "${q.options[q.answer]}" âœ…\n`;
                    wrongText += `    è§£æ: ${q.explanation}\n\n`;
                });
                wrongQuestionsEl.textContent = wrongText;
                wrongQuestionsEl.style.borderLeftColor = '#e74c3c';
                wrongQuestionsEl.style.background = '#f8d7da';
                wrongQuestionsEl.style.color = '#721c24';
                wrongQuestionsEl.style.display = 'block';
                retestWrongBtn.style.display = 'inline-block';
            }
        }
        
        // é»æ“Šã€Œä¸‹ä¸€é¡Œã€æŒ‰éˆ•
        nextBtn.addEventListener('click', () => {
            currentQuestionIndex++;
            if (currentQuestionIndex < questions.length) {
                showQuestion();
            } else {
                endGame();
            }
        });

        // é»æ“Šã€Œå…¨éƒ¨é‡æ¸¬ã€æŒ‰éˆ•
        restartBtn.addEventListener('click', () => startGame(allQuestions));

        // é»æ“Šã€Œé‡æ¸¬éŒ¯é¡Œã€æŒ‰éˆ•
        retestWrongBtn.addEventListener('click', () => {
            if (wrongQuestions.length > 0) {
                const retestList = wrongQuestions.map(({ userAnswer, ...rest }) => rest);
                startGame(retestList);
            }
        });

        // ç¶²é è¼‰å…¥å¾Œï¼Œè‡ªå‹•é–‹å§‹éŠæˆ²
        startGame(allQuestions);
    </script>
</body>

</html>
